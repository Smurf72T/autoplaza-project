<!-- templates/advertisements/ad_detail/ad_detail.html -->
{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block title %}{{ ad.title }} | Autoplaza{% endblock %}

{% block meta %}
{% include 'advertisements/ad_detail/partials/meta.html' %}
{% endblock %}

{% block content %}
<div class="container py-4">
    <!-- Хлебные крошки -->
    {% include 'advertisements/ad_detail/partials/breadcrumbs.html' %}

    <div class="row">
        <!-- Левая колонка -->
        <div class="col-lg-8">
            <!-- Заголовок и цена -->
            {% include 'advertisements/ad_detail/partials/header.html' %}

            <!-- Галерея фотографий -->
            {% include 'advertisements/ad_detail/partials/gallery.html' %}

            <!-- Описание -->
            {% include 'advertisements/ad_detail/partials/description.html' %}

            <!-- Характеристики -->
            {% include 'advertisements/ad_detail/partials/specifications.html' %}
        </div>

        <!-- Правая колонка -->
        <div class="col-lg-4">
            <!-- Карточка продавца -->
            {% include 'advertisements/ad_detail/partials/seller_card.html' %}

            <!-- Быстрые действия -->
            {% include 'advertisements/ad_detail/partials/quick_actions.html' %}
        </div>
    </div>

    <!-- Похожие объявления -->
    {% include 'advertisements/ad_detail/partials/similar_ads.html' %}
</div>

<!-- Модальные окна -->
{% include 'advertisements/ad_detail/partials/modals/phone_modal.html' %}
{% include 'advertisements/ad_detail/partials/modals/message_modal.html' %}
{% include 'advertisements/ad_detail/partials/modals/delete_modal.html' %}
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/advertisements/ad_detail.js' %}"></script>
<script>
    // Переменные для JS
    const AD_ID = {{ ad.id }};
    const IS_AUTHENTICATED = {% if user.is_authenticated %}true{% else %}false{% endif %};
    const CSRF_TOKEN = '{{ csrf_token }}';
    const LOGIN_URL = "{% url 'users:login' %}";
    const CURRENT_PATH = "{{ request.path }}";
</script>
{% endblock %}